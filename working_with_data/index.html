<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Working with Data - Oddworks SDK for Android</title>
  

  <link rel="shortcut icon" href="../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Working with Data";
    var mkdocs_page_input_path = "working_with_data.md";
    var mkdocs_page_url = "/working_with_data/";
  </script>
  
  <script src="../js/jquery-2.1.1.min.js"></script>
  <script src="../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../js/highlight.pack.js"></script>
  <script src="../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Oddworks SDK for Android</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <ul class="subnav">
    <li><span>Welcome</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="..">Introduction</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../overview/">Oddworks Overview</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../sample_application/">Sample Application</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Getting Started</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../setup/">Library and Project Setup</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../getting_started/">Configuring your App</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../data_models/">Understanding the SDK Data Models</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Interacting with Oddworks</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../initialize_api_calls/">Initialize API Calls</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Working with Data</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#extracting-information-from-views">Extracting Information from Views</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Oddworks SDK for Android</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Interacting with Oddworks &raquo;</li>
        
      
    
    <li>Working with Data</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="extracting-information-from-views">Extracting Information from Views</h1>
<p>In our sample application, we've pulled down two <code>OddView</code>s, a <code>homeView</code> and a <code>menuView</code>. In order to extract information from them we'll use some convienence methods from the superclass of <code>OddView</code>, <code>OddObject</code>. Before we do that, we'll need to setup some variables in our <code>HomeActivity</code>.</p>
<pre><code>// app/java/sample.oddworks.com.myoddworksapplication

// ...
public class HomeActivity extends AppCompatActivity {
    // Constants
    private static final String FEATURED_MEDIA = "featuredMedia";
    private static final String FEATURED_COLLECTION = "featuredCollections";
    private static final String FEATURED_OBJECTS = "entities";

    // Data
    private Context context;
    private OddView homeView;
    private Media featuredMedia;
    private OddCollection featuredCollection;
    private List&lt;OddObject&gt; featuredCollectionEntities;

    // ...
</code></pre>
<p>Now, in our <code>onCreate</code> method after <code>setContentView</code> is called, we'll call a new method called <code>configureData</code>.</p>
<pre><code>// app/java/sample.oddworks.com.myoddworksapplication

// ...
private void configureData() {
    homeView = OddApp.getInstance().getHomeView();
    List&lt;Identifier&gt; mediaIds = homeView.getIdentifiersByRelationship(FEATURED_MEDIA);
    List&lt;Identifier&gt; collectionIds = homeView.getIdentifiersByRelationship(FEATURED_COLLECTION);

    if (mediaIds != null &amp;&amp; !mediaIds.isEmpty()) {
        Identifier featuredMediaId = mediaIds.get(0);
        featuredMedia = (Media) OddStore.getInstance().getObject(featuredMediaId);
    }
    if (collectionIds != null &amp;&amp; !collectionIds.isEmpty()) {
        Identifier featuredCollectionId = collectionIds.get(0);
        featuredCollection = (OddCollection) OddStore.getInstance().getObject(featuredCollectionId);
    }
    if (featuredCollection != null) {
        featuredCollectionObjects = featuredCollection.getIncludedByRelationship(FEATURED_OBJECTS);
    }
}
// ...
</code></pre>
<p>There's a lot going on here, so let's take a minute to walk through the code. We are first getting the <code>homeView</code> from our main application class. In the Oddworks dashboard we've set up relationships on this View with the keys of "featuredMedia and "featuredCollections". We use the <code>getIdentifiersByRelationship</code> so that we can use the <code>OddStore</code>'s <code>getObject</code> method to retrieve the featured media and featured collection objects later in the method. We check to make sure that each List of Identifiers is not null or empty and grab the object from the <code>OddStore</code>. We take this a step further with the <code>getIncludedByRelationship</code> method called on the <code>featuredCollection</code>. This will give us a list of <code>OddObject</code>s that can be used in a RecyclerView. <em>Note: We're casting the objects in the <code>featuredCollectionObjects</code> to <code>OddObject</code>s because it may contain any combination of types.</em></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="../initialize_api_calls/" class="btn btn-neutral" title="Initialize API Calls"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../initialize_api_calls/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
    </span>
</div>

</body>
</html>
